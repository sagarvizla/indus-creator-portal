/* Ensure these are at the very top of your globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Light Theme Variables */
  --background-start-rgb: 240, 242, 245; /* A light, soft grey */
  --background-end-rgb: 229, 231, 235;   /* Slightly darker grey for gradient */
  --foreground-rgb: 17, 24, 39;         /* Dark grey for text (almost black) */
  --primary-rgb: 59, 130, 246;          /* Blue for accents */
  --secondary-rgb: 16, 185, 129;        /* Teal/Green for other accents */

  --card-background-rgb: 255, 255, 255;
  --card-border-rgb: 224, 224, 224;

  /* Font variables (assuming these are set up via next/font in layout.tsx) */
  --font-sans: '__Font_GeistSans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono: '__Font_GeistMono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Animation & Transition Variables */
  --transition-speed-fast: 0.2s;
  --transition-speed-normal: 0.3s;
  --transition-ease: ease-in-out;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Dark Theme Variables */
    --background-start-rgb: 17, 24, 39;    /* Dark blue/grey */
    --background-end-rgb: 31, 41, 55;      /* Slightly lighter dark blue/grey */
    --foreground-rgb: 229, 231, 235;       /* Light grey for text */
    --primary-rgb: 96, 165, 250;           /* Lighter blue for dark mode */
    --secondary-rgb: 52, 211, 153;         /* Lighter teal/green for dark mode */

    --card-background-rgb: 31, 41, 55; /* Slightly lighter than body bg */
    --card-border-rgb: 55, 65, 81;    /* Grey for dark mode card borders */
  }
}

/* Apply a global font and smooth scrolling */
html {
  font-family: var(--font-sans);
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  background: linear-gradient(
    to bottom right,
    rgb(var(--background-start-rgb)),
    rgb(var(--background-end-rgb))
  );
  color: rgb(var(--foreground-rgb));
  transition: background var(--transition-speed-normal) var(--transition-ease), 
              color var(--transition-speed-normal) var(--transition-ease);
  min-height: 100vh;
  overflow-x: hidden; /* Prevent horizontal scroll on page load animations */
}

/* General Animation for elements appearing */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Apply to main sections or containers for a subtle entry animation */
.fade-in-up {
  animation: fadeInUp 0.6s var(--transition-ease) forwards;
  opacity: 0; /* Start hidden */
}

/* Link Styles */
a {
  color: rgb(var(--primary-rgb));
  text-decoration: none;
  transition: color var(--transition-speed-fast) var(--transition-ease), 
              opacity var(--transition-speed-fast) var(--transition-ease);
}
a:hover {
  color: rgb(var(--secondary-rgb));
  opacity: 0.85;
  text-decoration: underline;
}

/* Button Base Styles (you can extend these with Tailwind classes) */
.btn {
  @apply py-2 px-4 rounded-lg font-semibold shadow-md transition-all duration-300 ease-in-out;
  /* Base styles, can be overridden by specific button type classes */
}
.btn-primary {
  @apply bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-300;
  background-color: rgb(var(--primary-rgb)); /* Use CSS var for consistency */
}
.btn-primary:hover {
   filter: brightness(110%);
}
.btn-secondary {
  @apply bg-teal-500 text-white hover:bg-teal-600 focus:ring-teal-300;
   background-color: rgb(var(--secondary-rgb)); /* Use CSS var for consistency */
}
.btn-secondary:hover {
   filter: brightness(110%);
}
.btn:focus-visible {
  @apply ring-2 ring-offset-2 ring-offset-[rgb(var(--background-start-rgb))];
}
.btn:active {
  transform: translateY(1px);
  filter: brightness(95%);
}


/* Input & Textarea Styles (basic enhancements) */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
input[type="number"],
textarea,
select {
  @apply block w-full px-3 py-2 rounded-md border border-[rgb(var(--card-border-rgb))] shadow-sm;
  background-color: rgb(var(--card-background-rgb));
  color: rgb(var(--foreground-rgb));
  transition: border-color var(--transition-speed-fast) var(--transition-ease), 
              box-shadow var(--transition-speed-fast) var(--transition-ease);
}
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="search"]:focus,
input[type="number"]:focus,
textarea:focus,
select:focus {
  @apply ring-2 ring-offset-0 border-[rgb(var(--primary-rgb))] ring-[rgb(var(--primary-rgb))];
  outline: none; /* Remove default outline */
}

/* Custom Scrollbar (for WebKit browsers like Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: rgba(var(--foreground-rgb), 0.05);
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  background: rgba(var(--primary-rgb), 0.6);
  border-radius: 10px;
  border: 2px solid transparent; /* Creates padding around thumb */
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--primary-rgb), 0.8);
}

/* Text Selection Styling */
::selection {
  background-color: rgba(var(--primary-rgb), 0.8);
  color: white; /* Or use a variable for selected text color if needed */
}
::-moz-selection { /* Firefox */
  background-color: rgba(var(--primary-rgb), 0.8);
  color: white;
}

/* Card base style (can be applied with Tailwind: `card-base`) */
.card-base {
    @apply p-6 rounded-xl shadow-lg;
    background-color: rgb(var(--card-background-rgb));
    border: 1px solid rgb(var(--card-border-rgb));
    transition: transform var(--transition-speed-normal) var(--transition-ease), 
                box-shadow var(--transition-speed-normal) var(--transition-ease);
}
.card-base:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 20px rgba(var(--foreground-rgb), 0.07), 0 6px 6px rgba(var(--foreground-rgb), 0.05);
}

/* Example of a subtle hover animation for interactive list items or cards */
.interactive-item-hover {
  transition: transform var(--transition-speed-fast) var(--transition-ease), 
              background-color var(--transition-speed-fast) var(--transition-ease);
}
.interactive-item-hover:hover {
  transform: translateX(4px);
  background-color: rgba(var(--primary-rgb), 0.07);
}

/* Utility for subtle pulse animation on load (can be added to elements) */
@keyframes subtlePulse {
  0%, 100% { opacity: 1; }
  50% { opacity: .9; }
}
.animate-subtle-pulse {
  animation: subtlePulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Visually hidden class for accessibility */
.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
  clip: rect(0, 0, 0, 0);
}
